"use strict";(self.webpackChunkbillit=self.webpackChunkbillit||[]).push([[916],{6627:(N,I,s)=>{s.d(I,{Hw:()=>J,Ps:()=>Q});var c=s(7716),a=s(2458),g=s(9490),f=s(8583),t=s(5917),b=s(205),A=s(5758),C=s(5319),v=s(3342),D=s(8002),L=s(5304),V=s(8939),z=s(8819),R=s(5257),y=s(1841),M=s(9075);const w=["*"];function Z(h){return Error(`Unable to find icon with the name "${h}"`)}function x(h){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${h}".`)}function S(h){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${h}".`)}class p{constructor(u,o,n){this.url=u,this.svgText=o,this.options=n}}let F=(()=>{class h{constructor(o,n,e,i){this._httpClient=o,this._sanitizer=n,this._errorHandler=i,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=e}addSvgIcon(o,n,e){return this.addSvgIconInNamespace("",o,n,e)}addSvgIconLiteral(o,n,e){return this.addSvgIconLiteralInNamespace("",o,n,e)}addSvgIconInNamespace(o,n,e,i){return this._addSvgIconConfig(o,n,new p(e,null,i))}addSvgIconResolver(o){return this._resolvers.push(o),this}addSvgIconLiteralInNamespace(o,n,e,i){const r=this._sanitizer.sanitize(c.q3G.HTML,e);if(!r)throw S(e);return this._addSvgIconConfig(o,n,new p("",r,i))}addSvgIconSet(o,n){return this.addSvgIconSetInNamespace("",o,n)}addSvgIconSetLiteral(o,n){return this.addSvgIconSetLiteralInNamespace("",o,n)}addSvgIconSetInNamespace(o,n,e){return this._addSvgIconSetConfig(o,new p(n,null,e))}addSvgIconSetLiteralInNamespace(o,n,e){const i=this._sanitizer.sanitize(c.q3G.HTML,n);if(!i)throw S(n);return this._addSvgIconSetConfig(o,new p("",i,e))}registerFontClassAlias(o,n=o){return this._fontCssClassesByAlias.set(o,n),this}classNameForFontAlias(o){return this._fontCssClassesByAlias.get(o)||o}setDefaultFontSetClass(o){return this._defaultFontSetClass=o,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(o){const n=this._sanitizer.sanitize(c.q3G.RESOURCE_URL,o);if(!n)throw x(o);const e=this._cachedIconsByUrl.get(n);return e?(0,t.of)(_(e)):this._loadSvgIconFromConfig(new p(o,null)).pipe((0,v.b)(i=>this._cachedIconsByUrl.set(n,i)),(0,D.U)(i=>_(i)))}getNamedSvgIcon(o,n=""){const e=U(n,o);let i=this._svgIconConfigs.get(e);if(i)return this._getSvgFromConfig(i);if(i=this._getIconConfigFromResolvers(n,o),i)return this._svgIconConfigs.set(e,i),this._getSvgFromConfig(i);const r=this._iconSetConfigs.get(n);return r?this._getSvgFromIconSetConfigs(o,r):(0,b._)(Z(e))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(o){return o.svgText?(0,t.of)(_(this._svgElementFromConfig(o))):this._loadSvgIconFromConfig(o).pipe((0,D.U)(n=>_(n)))}_getSvgFromIconSetConfigs(o,n){const e=this._extractIconWithNameFromAnySet(o,n);if(e)return(0,t.of)(e);const i=n.filter(r=>!r.svgText).map(r=>this._loadSvgIconSetFromConfig(r).pipe((0,L.K)(l=>{const m=`Loading icon set URL: ${this._sanitizer.sanitize(c.q3G.RESOURCE_URL,r.url)} failed: ${l.message}`;return this._errorHandler.handleError(new Error(m)),(0,t.of)(null)})));return(0,A.D)(i).pipe((0,D.U)(()=>{const r=this._extractIconWithNameFromAnySet(o,n);if(!r)throw Z(o);return r}))}_extractIconWithNameFromAnySet(o,n){for(let e=n.length-1;e>=0;e--){const i=n[e];if(i.svgText&&i.svgText.indexOf(o)>-1){const r=this._svgElementFromConfig(i),l=this._extractSvgIconFromSet(r,o,i.options);if(l)return l}}return null}_loadSvgIconFromConfig(o){return this._fetchIcon(o).pipe((0,v.b)(n=>o.svgText=n),(0,D.U)(()=>this._svgElementFromConfig(o)))}_loadSvgIconSetFromConfig(o){return o.svgText?(0,t.of)(null):this._fetchIcon(o).pipe((0,v.b)(n=>o.svgText=n))}_extractSvgIconFromSet(o,n,e){const i=o.querySelector(`[id="${n}"]`);if(!i)return null;const r=i.cloneNode(!0);if(r.removeAttribute("id"),"svg"===r.nodeName.toLowerCase())return this._setSvgAttributes(r,e);if("symbol"===r.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(r),e);const l=this._svgElementFromString("<svg></svg>");return l.appendChild(r),this._setSvgAttributes(l,e)}_svgElementFromString(o){const n=this._document.createElement("DIV");n.innerHTML=o;const e=n.querySelector("svg");if(!e)throw Error("<svg> tag not found");return e}_toSvgElement(o){const n=this._svgElementFromString("<svg></svg>"),e=o.attributes;for(let i=0;i<e.length;i++){const{name:r,value:l}=e[i];"id"!==r&&n.setAttribute(r,l)}for(let i=0;i<o.childNodes.length;i++)o.childNodes[i].nodeType===this._document.ELEMENT_NODE&&n.appendChild(o.childNodes[i].cloneNode(!0));return n}_setSvgAttributes(o,n){return o.setAttribute("fit",""),o.setAttribute("height","100%"),o.setAttribute("width","100%"),o.setAttribute("preserveAspectRatio","xMidYMid meet"),o.setAttribute("focusable","false"),n&&n.viewBox&&o.setAttribute("viewBox",n.viewBox),o}_fetchIcon(o){var n;const{url:e,options:i}=o,r=null!==(n=null==i?void 0:i.withCredentials)&&void 0!==n&&n;if(!this._httpClient)throw Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.");if(null==e)throw Error(`Cannot fetch icon from URL "${e}".`);const l=this._sanitizer.sanitize(c.q3G.RESOURCE_URL,e);if(!l)throw x(e);const d=this._inProgressUrlFetches.get(l);if(d)return d;const m=this._httpClient.get(l,{responseType:"text",withCredentials:r}).pipe((0,V.x)(()=>this._inProgressUrlFetches.delete(l)),(0,z.B)());return this._inProgressUrlFetches.set(l,m),m}_addSvgIconConfig(o,n,e){return this._svgIconConfigs.set(U(o,n),e),this}_addSvgIconSetConfig(o,n){const e=this._iconSetConfigs.get(o);return e?e.push(n):this._iconSetConfigs.set(o,[n]),this}_svgElementFromConfig(o){if(!o.svgElement){const n=this._svgElementFromString(o.svgText);this._setSvgAttributes(n,o.options),o.svgElement=n}return o.svgElement}_getIconConfigFromResolvers(o,n){for(let e=0;e<this._resolvers.length;e++){const i=this._resolvers[e](n,o);if(i)return O(i)?new p(i.url,null,i.options):new p(i,null)}}}return h.\u0275fac=function(o){return new(o||h)(c.LFG(y.eN,8),c.LFG(M.H7),c.LFG(f.K0,8),c.LFG(c.qLn))},h.\u0275prov=c.Yz7({factory:function(){return new h(c.LFG(y.eN,8),c.LFG(M.H7),c.LFG(f.K0,8),c.LFG(c.qLn))},token:h,providedIn:"root"}),h})();function _(h){return h.cloneNode(!0)}function U(h,u){return h+":"+u}function O(h){return!(!h.url||!h.options)}const W=(0,a.pj)(class{constructor(h){this._elementRef=h}}),H=new c.OlP("mat-icon-location",{providedIn:"root",factory:function(){const h=(0,c.f3M)(f.K0),u=h?h.location:null;return{getPathname:()=>u?u.pathname+u.search:""}}}),Y=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],$=Y.map(h=>`[${h}]`).join(", "),j=/^url\(['"]?#(.*?)['"]?\)$/;let J=(()=>{class h extends W{constructor(o,n,e,i,r){super(o),this._iconRegistry=n,this._location=i,this._errorHandler=r,this._inline=!1,this._currentIconFetch=C.w.EMPTY,e||o.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(o){this._inline=(0,g.Ig)(o)}get svgIcon(){return this._svgIcon}set svgIcon(o){o!==this._svgIcon&&(o?this._updateSvgIcon(o):this._svgIcon&&this._clearSvgElement(),this._svgIcon=o)}get fontSet(){return this._fontSet}set fontSet(o){const n=this._cleanupFontValue(o);n!==this._fontSet&&(this._fontSet=n,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(o){const n=this._cleanupFontValue(o);n!==this._fontIcon&&(this._fontIcon=n,this._updateFontIconClasses())}_splitIconName(o){if(!o)return["",""];const n=o.split(":");switch(n.length){case 1:return["",n[0]];case 2:return n;default:throw Error(`Invalid icon name: "${o}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const o=this._elementsWithExternalReferences;if(o&&o.size){const n=this._location.getPathname();n!==this._previousPath&&(this._previousPath=n,this._prependPathToReferences(n))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(o){this._clearSvgElement();const n=o.querySelectorAll("style");for(let i=0;i<n.length;i++)n[i].textContent+=" ";const e=this._location.getPathname();this._previousPath=e,this._cacheChildrenWithExternalReferences(o),this._prependPathToReferences(e),this._elementRef.nativeElement.appendChild(o)}_clearSvgElement(){const o=this._elementRef.nativeElement;let n=o.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();n--;){const e=o.childNodes[n];(1!==e.nodeType||"svg"===e.nodeName.toLowerCase())&&o.removeChild(e)}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const o=this._elementRef.nativeElement,n=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();n!=this._previousFontSetClass&&(this._previousFontSetClass&&o.classList.remove(this._previousFontSetClass),n&&o.classList.add(n),this._previousFontSetClass=n),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&o.classList.remove(this._previousFontIconClass),this.fontIcon&&o.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(o){return"string"==typeof o?o.trim().split(" ")[0]:o}_prependPathToReferences(o){const n=this._elementsWithExternalReferences;n&&n.forEach((e,i)=>{e.forEach(r=>{i.setAttribute(r.name,`url('${o}#${r.value}')`)})})}_cacheChildrenWithExternalReferences(o){const n=o.querySelectorAll($),e=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let i=0;i<n.length;i++)Y.forEach(r=>{const l=n[i],d=l.getAttribute(r),m=d?d.match(j):null;if(m){let P=e.get(l);P||(P=[],e.set(l,P)),P.push({name:r,value:m[1]})}})}_updateSvgIcon(o){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),o){const[n,e]=this._splitIconName(o);n&&(this._svgNamespace=n),e&&(this._svgName=e),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(e,n).pipe((0,R.q)(1)).subscribe(i=>this._setSvgElement(i),i=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${n}:${e}! ${i.message}`))})}}}return h.\u0275fac=function(o){return new(o||h)(c.Y36(c.SBq),c.Y36(F),c.$8M("aria-hidden"),c.Y36(H),c.Y36(c.qLn))},h.\u0275cmp=c.Xpm({type:h,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(o,n){2&o&&(c.uIk("data-mat-icon-type",n._usingFontIcon()?"font":"svg")("data-mat-icon-name",n._svgName||n.fontIcon)("data-mat-icon-namespace",n._svgNamespace||n.fontSet),c.ekj("mat-icon-inline",n.inline)("mat-icon-no-color","primary"!==n.color&&"accent"!==n.color&&"warn"!==n.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[c.qOj],ngContentSelectors:w,decls:1,vars:0,template:function(o,n){1&o&&(c.F$t(),c.Hsn(0))},styles:[".mat-icon{background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),h})(),Q=(()=>{class h{}return h.\u0275fac=function(o){return new(o||h)},h.\u0275mod=c.oAB({type:h}),h.\u0275inj=c.cJS({imports:[[a.BQ],a.BQ]}),h})()},9670:(N,I,s)=>{s.d(I,{zC:()=>c,ib:()=>a,R$:()=>g});const c=[{name:"January",value:1},{name:"February",value:2},{name:"March",value:3},{name:"April",value:4},{name:"May",value:5},{name:"June",value:6},{name:"July",value:7},{name:"August",value:8},{name:"September",value:9},{name:"October",value:10},{name:"November",value:11},{name:"December",value:12}],a={order:{width:1e3,disableClose:!0,autoFocus:!1},item:{width:500,disableClose:!0},customer:{width:500,disableClose:!0},confirmationDialog:{width:400,disableClose:!0,autoFocus:!1},spinner:{disableClose:!0,position:{top:"0",right:"0"},hasBackdrop:!1,panelClass:"spinner-dialog"}},g={success:{horizontalPosition:"end",verticalPosition:"top",duration:2e3,panelClass:"success-snackbar"},error:{horizontalPosition:"end",verticalPosition:"top",duration:2e3,panelClass:"error-snackbar"},warning:{horizontalPosition:"end",verticalPosition:"top",duration:2e3,panelClass:"warning-snackbar"}}},4916:(N,I,s)=>{s.r(I),s.d(I,{DashboardModule:()=>n});var c=s(8583),a=s(3679),g=s(8295),f=s(2458),t=s(7716),b=s(521);const A=["*",[["mat-toolbar-row"]]],C=["*","mat-toolbar-row"],v=(0,f.pj)(class{constructor(e){this._elementRef=e}});let D=(()=>{class e{}return e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=t.lG2({type:e,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),e})(),L=(()=>{class e extends v{constructor(r,l,d){super(r),this._platform=l,this._document=d}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return e.\u0275fac=function(r){return new(r||e)(t.Y36(t.SBq),t.Y36(b.t4),t.Y36(c.K0))},e.\u0275cmp=t.Xpm({type:e,selectors:[["mat-toolbar"]],contentQueries:function(r,l,d){if(1&r&&t.Suo(d,D,5),2&r){let m;t.iGM(m=t.CRH())&&(l._toolbarRows=m)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(r,l){2&r&&t.ekj("mat-toolbar-multiple-rows",l._toolbarRows.length>0)("mat-toolbar-single-row",0===l._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[t.qOj],ngContentSelectors:C,decls:2,vars:0,template:function(r,l){1&r&&(t.F$t(A),t.Hsn(0),t.Hsn(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}\n"],encapsulation:2,changeDetection:0}),e})(),z=(()=>{class e{}return e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[f.BQ],f.BQ]}),e})();var R=s(1095),y=s(6627),M=s(4885),w=s(7001),Z=s(9983),T=s(3738),x=s(1436),S=s(4655),p=s(4762),F=s(7165),B=s(8312),E=s(9067),_=s(9670),U=s(1841),O=s(7048);let W=(()=>{class e{constructor(r,l,d,m){this.http=r,this.router=l,this._snackBar=d,this.dialogService=m,this.shopUrl=B.a.shopUrl}initShops(){return(0,p.mG)(this,void 0,void 0,function*(){if(!E.cQ.storageHelper.shopId||!this.currentShop){const r=B.a.allShopsUrl,l=this.dialogService.openDialog(M.$g,_.ib.spinner);return this.allShops=yield this.http.get(r).toPromise(),l.close(),this.allShops&&this.allShops.length?(this.setDefaultShop(),!0):(this.router.navigateByUrl("/dashboard/shop"),!1)}return!0})}setDefaultShop(){E.cQ.storageHelper.shopId=this.allShops[0]._id,this.currentShop=this.allShops[0]}addShop(r){return(0,p.mG)(this,void 0,void 0,function*(){const l=this.dialogService.openDialog(M.$g,_.ib.spinner),d=yield this.http.post(this.shopUrl,r).toPromise();l.close(),E.cQ.storageHelper.shopId=d._id,this.currentShop=d,this.router.navigateByUrl("/dashboard/orders")})}getCurrentShop(){return(0,p.mG)(this,void 0,void 0,function*(){if(this.currentShop)return this.currentShop;if(E.cQ.storageHelper.shopId){const r=`${this.shopUrl}/${E.cQ.storageHelper.shopId}`,l=this.dialogService.openDialog(M.$g,_.ib.spinner),d=yield this.http.get(r).toPromise();return l.close(),d}})}updateShop(r,l){return(0,p.mG)(this,void 0,void 0,function*(){const d=this.dialogService.openDialog(M.$g,_.ib.spinner),m=yield this.http.patch(`${this.shopUrl}/${r}`,l).toPromise();d.close(),this.currentShop=m,this.router.navigateByUrl("/dashboard/orders"),this._snackBar.open("Shop updated successfully!",null,_.R$.success)})}getShopName(){return this.currentShop.name}}return e.\u0275fac=function(r){return new(r||e)(t.LFG(U.eN),t.LFG(S.F0),t.LFG(w.ux),t.LFG(O.x))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var H=s(4416);let G=(()=>{class e{constructor(r,l,d){this.http=r,this.router=l,this.dialogService=d}logout(){return(0,p.mG)(this,void 0,void 0,function*(){const r=E.ap.logoutUrl,l=this.dialogService.openDialog(M.$g,_.ib.spinner);yield this.http.post(r,null).toPromise(),l.close(),E.cQ.storageHelper.clear(),this.router.navigate(["auth"]),location.reload()})}}return e.\u0275fac=function(r){return new(r||e)(t.LFG(U.eN),t.LFG(S.F0),t.LFG(O.x))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function Y(e,i){if(1&e){const r=t.EpF();t.TgZ(0,"button",9),t.NdJ("click",function(){return t.CHM(r),t.oxw().backToDashboard()}),t.TgZ(1,"mat-icon"),t._uU(2,"first_page"),t.qZA(),t.qZA()}}function K(e,i){if(1&e){const r=t.EpF();t.TgZ(0,"mat-card",10),t.TgZ(1,"mat-card-header"),t.TgZ(2,"mat-card-title"),t._uU(3),t.qZA(),t.qZA(),t.TgZ(4,"mat-card-content"),t.TgZ(5,"form",11),t.TgZ(6,"div",12),t.TgZ(7,"mat-form-field",13),t.TgZ(8,"mat-label"),t._uU(9,"Name"),t.qZA(),t._UZ(10,"input",14),t.qZA(),t.qZA(),t.TgZ(11,"div",12),t.TgZ(12,"mat-form-field",15),t.TgZ(13,"mat-label"),t._uU(14,"Mobile"),t.qZA(),t._UZ(15,"input",16),t.qZA(),t.qZA(),t.TgZ(16,"div",12),t.TgZ(17,"mat-form-field",13),t.TgZ(18,"mat-label"),t._uU(19,"Address"),t.qZA(),t._UZ(20,"textarea",17),t.qZA(),t.qZA(),t.TgZ(21,"div",12),t.TgZ(22,"mat-form-field",13),t.TgZ(23,"mat-label"),t._uU(24,"Email"),t.qZA(),t._UZ(25,"input",18),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(26,"mat-card-actions"),t.TgZ(27,"button",19),t.NdJ("click",function(){return t.CHM(r),t.oxw().executeAction()}),t._uU(28),t.qZA(),t.qZA(),t.qZA()}if(2&e){const r=t.oxw();t.xp6(3),t.hij(" ",r.formType," shop "),t.xp6(2),t.Q6J("formGroup",r.shopForm),t.xp6(22),t.Q6J("disabled",!r.enableAction()),t.xp6(1),t.hij(" ",r.formType," ")}}let $=(()=>{class e{constructor(r,l,d,m){this.shopService=r,this.helperService=l,this.userService=d,this.router=m,this.isLoading=!0}ngOnInit(){return(0,p.mG)(this,void 0,void 0,function*(){yield this.initForm(),this.isLoading=!1})}initForm(){return(0,p.mG)(this,void 0,void 0,function*(){this.currentShop=yield this.shopService.getCurrentShop(),this.currentShop?(this.shopForm=new a.cw({name:new a.NI(this.currentShop.name,[a.kI.required.bind(this),F.F]),mobile:new a.NI(this.currentShop.mobile,a.kI.required.bind(this)),address:new a.NI(this.currentShop.address),email:new a.NI(this.currentShop.email,a.kI.email.bind(this))}),this.formType="Update"):(this.shopForm=new a.cw({name:new a.NI(null,[a.kI.required.bind(this),F.F]),mobile:new a.NI(null,a.kI.required.bind(this)),address:new a.NI(null),email:new a.NI(null,a.kI.email.bind(this))}),this.formType="Add")})}executeAction(){"Add"===this.formType?this.addShop():this.updateShop()}addShop(){return(0,p.mG)(this,void 0,void 0,function*(){const r=this.getFormData();this.helperService._removeEmptyKeys(r),yield this.shopService.addShop(r)})}updateShop(){return(0,p.mG)(this,void 0,void 0,function*(){const r=this.helperService._removeNonUpdatedData(this.currentShop,this.getFormData());this.helperService._removeEmptyKeys(r),Object.keys(r).length&&(yield this.shopService.updateShop(this.currentShop._id,r))})}getFormData(){return this.helperService._clone(this.shopForm.value)}enableAction(){return this.shopForm.valid&&this.shopForm.dirty}backToDashboard(){this.router.navigateByUrl("/dashboard/orders")}logout(){this.userService.logout()}}return e.\u0275fac=function(r){return new(r||e)(t.Y36(W),t.Y36(H.W),t.Y36(G),t.Y36(S.F0))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-shop-form"]],decls:14,vars:2,consts:[["color","primary"],["src","assets/images/common/logo.png","alt","",1,"toolbar-icon"],[1,"mar-hr-16"],[1,"spacer"],["mat-icon-button","","matTooltip","Back to orders",3,"click",4,"ngIf"],["mat-icon-button","","matTooltip","Logout",3,"click"],[1,"full-height","flex-centered-con","flex-col","pad-32","mar-top-32"],["color","primary",1,"shop-icon","pad-right-32","mar-right-32"],["class","shop-form-container pad-top-32 mar-top-32",4,"ngIf"],["mat-icon-button","","matTooltip","Back to orders",3,"click"],[1,"shop-form-container","pad-top-32","mar-top-32"],[3,"formGroup"],[1,"mar-vr-16"],["appearance","fill",1,"full-width"],["matInput","","placeholder","Ex: A1 Restaurant","formControlName","name","required",""],["appearance","fill"],["matInput","","type","number","formControlName","mobile","required",""],["matInput","","formControlName","address","placeholder","Ex: Tesla Road, 160022"],["matInput","","type","email","placeholder","Ex. nikola@tesla.com","formControlName","email"],["mat-raised-button","","color","primary",1,"add-shop-button",3,"disabled","click"]],template:function(r,l){1&r&&(t.TgZ(0,"mat-toolbar",0),t._UZ(1,"img",1),t.TgZ(2,"span",2),t._uU(3,"Bill.it"),t.qZA(),t._UZ(4,"a",3),t.YNc(5,Y,3,0,"button",4),t.TgZ(6,"button",5),t.NdJ("click",function(){return l.logout()}),t.TgZ(7,"mat-icon"),t._uU(8,"logout"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(9,"div",6),t.TgZ(10,"div"),t.TgZ(11,"mat-icon",7),t._uU(12,"storefront"),t.qZA(),t.qZA(),t.YNc(13,K,29,4,"mat-card",8),t.qZA()),2&r&&(t.xp6(5),t.Q6J("ngIf","Update"===l.formType),t.xp6(8),t.Q6J("ngIf",!l.isLoading))},directives:[L,c.O5,R.lW,x.gM,y.Hw,T.a8,T.dk,T.n5,T.dn,a._Y,a.JL,a.sg,g.KE,g.hX,Z.Nt,a.Fj,a.JJ,a.u,a.Q7,a.wV,T.hq],styles:[".shop-form-container[_ngcontent-%COMP%]{width:350px}.add-shop-button[_ngcontent-%COMP%]{float:right}.shop-icon[_ngcontent-%COMP%]{font-size:125px!important}.spacer[_ngcontent-%COMP%]{flex:1 1 auto}.toolbar-icon[_ngcontent-%COMP%]{height:30px}"]}),e})();var j=s(7176);function J(e,i){if(1&e){const r=t.EpF();t.TgZ(0,"a",10),t.NdJ("click",function(){const m=t.CHM(r).$implicit;return t.oxw().updateRoute(m)}),t._uU(1),t.ALo(2,"titlecase"),t.qZA()}if(2&e){const r=i.$implicit,l=t.oxw();t.ekj("current-route",r===l.selectedRoute),t.Q6J("routerLink",r),t.xp6(1),t.Oqu(t.lcZ(2,4,r))}}function Q(e,i){1&e&&(t.TgZ(0,"div",11),t._UZ(1,"router-outlet"),t.qZA())}const u=[{path:"",component:(()=>{class e{constructor(r,l,d,m){this.router=r,this.shopService=l,this.userService=d,this.dialogService=m,this.dashboardRoutes=["orders","customers","items","reports"],this.selectedRoute="orders",this.isLoading=!0,this.shopName=""}ngOnInit(){return(0,p.mG)(this,void 0,void 0,function*(){(yield this.shopService.initShops())&&(this.shopName=this.shopService.getShopName(),this.selectedRoute=this.router.url.split("/").pop()),this.isLoading=!1})}updateRoute(r){this.selectedRoute=r}logout(){return(0,p.mG)(this,void 0,void 0,function*(){(yield this.dialogService.openDialog(j.z,Object.assign(Object.assign({},_.ib.confirmationDialog),{data:{type:"confirmation",action:"logout",entity:"user"}})).afterClosed().toPromise())&&this.userService.logout()})}editShop(){this.router.navigateByUrl("dashboard/shop")}}return e.\u0275fac=function(r){return new(r||e)(t.Y36(S.F0),t.Y36(W),t.Y36(G),t.Y36(O.x))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-dashboard"]],decls:16,vars:3,consts:[["color","primary"],["src","assets/images/common/logo.png","alt","",1,"toolbar-icon"],[1,"mar-hr-16"],[1,"title-separator"],[1,"mar-hr-16","brand-name"],["mat-button","","class","toolbar-buttons",3,"routerLink","current-route","click",4,"ngFor","ngForOf"],[1,"spacer"],["mat-icon-button","","matTooltip","Update Shop",3,"click"],["mat-icon-button","","matTooltip","Logout",3,"click"],["class","dashboard-container full-height pad-32",4,"ngIf"],["mat-button","",1,"toolbar-buttons",3,"routerLink","click"],[1,"dashboard-container","full-height","pad-32"]],template:function(r,l){1&r&&(t.TgZ(0,"mat-toolbar",0),t._UZ(1,"img",1),t.TgZ(2,"span",2),t._uU(3,"Bill.it"),t.qZA(),t._UZ(4,"div",3),t.TgZ(5,"span",4),t._uU(6),t.qZA(),t.YNc(7,J,3,6,"a",5),t._UZ(8,"a",6),t.TgZ(9,"button",7),t.NdJ("click",function(){return l.editShop()}),t.TgZ(10,"mat-icon"),t._uU(11,"storefront"),t.qZA(),t.qZA(),t.TgZ(12,"button",8),t.NdJ("click",function(){return l.logout()}),t.TgZ(13,"mat-icon"),t._uU(14,"logout"),t.qZA(),t.qZA(),t.qZA(),t.YNc(15,Q,2,0,"div",9)),2&r&&(t.xp6(6),t.Oqu(l.shopName),t.xp6(1),t.Q6J("ngForOf",l.dashboardRoutes),t.xp6(8),t.Q6J("ngIf",!l.isLoading))},directives:[L,c.sg,R.lW,x.gM,y.Hw,c.O5,R.zs,S.yS,S.lC],pipes:[c.rS],styles:[".dashboard-container[_ngcontent-%COMP%]{width:80%;margin:auto}.spacer[_ngcontent-%COMP%]{flex:1 1 auto}.current-route[_ngcontent-%COMP%]{background-color:#0003}.toolbar-buttons[_ngcontent-%COMP%]:hover{background-color:#0006!important}.toolbar-icon[_ngcontent-%COMP%]{height:30px}.title-separator[_ngcontent-%COMP%]{height:18px;width:2px;background-color:#fff;margin:0 2px}.brand-name[_ngcontent-%COMP%]{color:gold}"]}),e})(),children:[{path:"",redirectTo:"orders",pathMatch:"full"},{path:"orders",loadChildren:()=>Promise.all([s.e(455),s.e(777),s.e(592),s.e(546)]).then(s.bind(s,9546)).then(e=>e.OrdersModule)},{path:"customers",loadChildren:()=>Promise.all([s.e(455),s.e(592),s.e(12)]).then(s.bind(s,12)).then(e=>e.CustomersModule)},{path:"items",loadChildren:()=>Promise.all([s.e(455),s.e(592),s.e(124)]).then(s.bind(s,8124)).then(e=>e.ItemsModule)},{path:"reports",loadChildren:()=>Promise.all([s.e(777),s.e(560)]).then(s.bind(s,3560)).then(e=>e.ReportsModule)}]},{path:"shop",component:$,pathMatch:"full"},{path:"**",redirectTo:"",pathMatch:"full"}];let o=(()=>{class e{}return e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[S.Bz.forChild(u)],S.Bz]}),e})(),n=(()=>{class e{}return e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[c.ez,o,a.UX,g.lN,Z.c,y.Ps,R.ot,z,M.Cq,w.ZX,T.QW,x.AV]]}),e})()},7176:(N,I,s)=>{s.d(I,{z:()=>t});var c=s(2238),a=s(7716),g=s(1095),f=s(8583);let t=(()=>{class b{constructor(C){this.dialogData=C}ngOnInit(){this.type=this.dialogData.type,this.entity=this.dialogData.entity,this.action=this.dialogData.action}}return b.\u0275fac=function(C){return new(C||b)(a.Y36(c.WI))},b.\u0275cmp=a.Xpm({type:b,selectors:[["app-confirmation-dialog"]],decls:13,vars:13,consts:[["mat-dialog-title",""],["align","end"],["mat-button","","mat-dialog-close",""],["mat-raised-button","",3,"mat-dialog-close","color"]],template:function(C,v){1&C&&(a.TgZ(0,"h2",0),a._uU(1),a.ALo(2,"titlecase"),a.ALo(3,"titlecase"),a.qZA(),a.TgZ(4,"mat-dialog-content"),a.TgZ(5,"span"),a._uU(6),a.qZA(),a.qZA(),a.TgZ(7,"mat-dialog-actions",1),a.TgZ(8,"button",2),a._uU(9,"Cancel"),a.qZA(),a.TgZ(10,"button",3),a._uU(11),a.ALo(12,"titlecase"),a.qZA(),a.qZA()),2&C&&(a.xp6(1),a.AsE("",a.lcZ(2,7,v.action)," ",a.lcZ(3,9,v.entity),""),a.xp6(5),a.AsE("Are you sure you want to ",v.action," this ",v.entity,"?"),a.xp6(4),a.Q6J("mat-dialog-close",!0)("color","warning"===v.type?"warn":"primary"),a.xp6(1),a.hij(" ",a.lcZ(12,11,v.action)," "))},directives:[c.uh,c.xY,c.H8,g.lW,c.ZT],pipes:[f.rS],styles:[""]}),b})()},7165:(N,I,s)=>{function c(){return g=>""==(!g.value||g.value.trim())?{required:!0}:null}s.d(I,{F:()=>c})}}]);