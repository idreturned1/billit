"use strict";(self.webpackChunkbillit=self.webpackChunkbillit||[]).push([[187],{5187:(Dt,D,r)=>{r.r(D),r.d(D,{CustomersModule:()=>yt});var g=r(9808),a=r(3075),d=r(7322),u=r(4999),A=r(5245),C=r(6087),T=r(7531),f=r(7423),v=r(4847),c=r(8966),x=r(4107),_=r(7238),l=r(6856),q=r(3251),I=r(9224),U=r(1787),p=r(655),b=r(7165),h=r(9670),t=r(5e3),w=r(4416),y=r(3208),R=r(508);function Y(o,n){if(1&o&&(t.TgZ(0,"mat-option",21),t._uU(1),t.qZA()),2&o){const e=n.$implicit;t.Q6J("value",e.value),t.xp6(1),t.hij(" ",e.name," ")}}function P(o,n){if(1&o&&(t.TgZ(0,"mat-option",21),t._uU(1),t.qZA()),2&o){const e=n.$implicit;t.Q6J("value",e.value),t.xp6(1),t.hij(" ",e.name," ")}}let N=(()=>{class o{constructor(e,i,s,m){this.dialogRef=e,this.helperService=i,this.customerService=s,this.customerData=m,this.MONTHS=h.zC}ngOnInit(){this.formType=this.customerData?"Update":"Add",this.initForm()}enableAction(){return this.customerForm.valid&&this.customerForm.dirty}executeAction(){"Add"===this.formType?this.addNewCustomer():this.updateCustomer()}initForm(){this.customerForm=new a.cw("Add"===this.formType?{name:new a.NI(null,[a.kI.required.bind(this),b.F]),mobile:new a.NI(null,a.kI.required.bind(this)),address:new a.NI(null),email:new a.NI(null,a.kI.email.bind(this)),birthday:new a.cw({day:new a.NI(null,[a.kI.min(1),a.kI.max(31)]),month:new a.NI(null,[a.kI.min(1),a.kI.max(12)])}),anniversary:new a.cw({day:new a.NI(null,[a.kI.min(1),a.kI.max(31)]),month:new a.NI(null,[a.kI.min(1),a.kI.max(12)])}),currentPoints:new a.NI(0,a.kI.min(0))}:{name:new a.NI(this.customerData.name,[a.kI.required.bind(this),b.F]),mobile:new a.NI(this.customerData.mobile,a.kI.required.bind(this)),address:new a.NI(this.customerData.address),email:new a.NI(this.customerData.email,a.kI.email.bind(this)),birthday:new a.cw({day:new a.NI(this.customerData.birthday?this.customerData.birthday.day:null,[a.kI.min(1),a.kI.max(31)]),month:new a.NI(this.customerData.birthday?this.customerData.birthday.month:null,[a.kI.min(1),a.kI.max(12)])}),anniversary:new a.cw({day:new a.NI(this.customerData.anniversary?this.customerData.anniversary.day:null,[a.kI.min(1),a.kI.max(31)]),month:new a.NI(this.customerData.anniversary?this.customerData.anniversary.month:null,[a.kI.min(1),a.kI.max(12)])}),currentPoints:new a.NI(this.customerData.currentPoints,a.kI.min(0))})}addNewCustomer(){return(0,p.mG)(this,void 0,void 0,function*(){const e=this.getFormData();this.helperService._removeEmptyKeys(e),yield this.customerService.addCustomer(e),this.closeDialog()})}updateCustomer(){return(0,p.mG)(this,void 0,void 0,function*(){const e=this.helperService._removeNonUpdatedData(this.customerData,this.getFormData());this.helperService._removeEmptyKeys(e),Object.keys(e).length&&(yield this.customerService.updateCustomer(this.customerData._id,e)),this.closeDialog()})}getFormData(){return this.helperService._clone(this.customerForm.value)}closeDialog(){this.dialogRef.close()}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(c.so),t.Y36(w.W),t.Y36(y.v),t.Y36(c.WI))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-customer-form"]],decls:61,vars:6,consts:[["mat-dialog-title",""],[3,"formGroup"],[1,"mar-vr-16"],["appearance","fill",1,"full-width"],["matInput","","placeholder","Ex: Nikola Tesla","formControlName","name","required",""],["appearance","fill"],["matInput","","type","number","formControlName","mobile","required",""],["matInput","","formControlName","address","placeholder","Ex: #1 Tesla Road, Nikola City"],["matInput","","type","email","placeholder","Ex. nikola@tesla.com","formControlName","email"],[1,"flex"],["formGroupName","birthday",1,"occasion-container","mar-right-16"],["appearance","fill",1,"occasion-input"],["matInput","","type","number","formControlName","day"],[1,"input-separator"],["formControlName","month"],[3,"value",4,"ngFor","ngForOf"],["formGroupName","anniversary",1,"occasion-container"],["matInput","","type","number","formControlName","currentPoints"],["align","end"],["mat-button","","mat-dialog-close",""],["mat-raised-button","","color","primary",3,"disabled","click"],[3,"value"]],template:function(e,i){1&e&&(t.TgZ(0,"h2",0),t._uU(1),t.qZA(),t.TgZ(2,"mat-dialog-content")(3,"form",1)(4,"div",2)(5,"mat-form-field",3)(6,"mat-label"),t._uU(7,"Name"),t.qZA(),t._UZ(8,"input",4),t.qZA()(),t.TgZ(9,"div",2)(10,"mat-form-field",5)(11,"mat-label"),t._uU(12,"Mobile"),t.qZA(),t._UZ(13,"input",6),t.qZA()(),t.TgZ(14,"div",2)(15,"mat-form-field",3)(16,"mat-label"),t._uU(17,"Address"),t.qZA(),t._UZ(18,"textarea",7),t.qZA()(),t.TgZ(19,"div",2)(20,"mat-form-field",3)(21,"mat-label"),t._uU(22,"Email"),t.qZA(),t._UZ(23,"input",8),t.qZA()(),t.TgZ(24,"div",9)(25,"div",10)(26,"h4"),t._uU(27,"Birthday"),t.qZA(),t.TgZ(28,"mat-form-field",11)(29,"mat-label"),t._uU(30,"Day"),t.qZA(),t._UZ(31,"input",12),t.qZA(),t._UZ(32,"div",13),t.TgZ(33,"mat-form-field",11)(34,"mat-label"),t._uU(35,"Month"),t.qZA(),t.TgZ(36,"mat-select",14),t.YNc(37,Y,2,2,"mat-option",15),t.qZA()()(),t.TgZ(38,"div",16)(39,"h4"),t._uU(40,"Anniversary"),t.qZA(),t.TgZ(41,"mat-form-field",11)(42,"mat-label"),t._uU(43,"Day"),t.qZA(),t._UZ(44,"input",12),t.qZA(),t._UZ(45,"div",13),t.TgZ(46,"mat-form-field",11)(47,"mat-label"),t._uU(48,"Month"),t.qZA(),t.TgZ(49,"mat-select",14),t.YNc(50,P,2,2,"mat-option",15),t.qZA()()()(),t.TgZ(51,"div",2)(52,"mat-form-field",5)(53,"mat-label"),t._uU(54,"Current Points"),t.qZA(),t._UZ(55,"input",17),t.qZA()()()(),t.TgZ(56,"mat-dialog-actions",18)(57,"button",19),t._uU(58,"Cancel"),t.qZA(),t.TgZ(59,"button",20),t.NdJ("click",function(){return i.executeAction()}),t._uU(60),t.qZA()()),2&e&&(t.xp6(1),t.hij("",i.formType," Customer"),t.xp6(2),t.Q6J("formGroup",i.customerForm),t.xp6(34),t.Q6J("ngForOf",i.MONTHS),t.xp6(13),t.Q6J("ngForOf",i.MONTHS),t.xp6(9),t.Q6J("disabled",!i.enableAction()),t.xp6(1),t.hij(" ",i.formType," "))},directives:[c.uh,c.xY,a._Y,a.JL,a.sg,d.KE,d.hX,T.Nt,a.Fj,a.JJ,a.u,a.Q7,a.wV,a.x0,x.gD,g.sg,R.ey,c.H8,f.lW,c.ZT],styles:[".occasion-input[_ngcontent-%COMP%]{width:100px}.occasion-container[_ngcontent-%COMP%]{position:relative}.input-separator[_ngcontent-%COMP%]{width:0px;border-right:1px solid rgba(0,0,0,.26);display:inline-block;height:35px;position:absolute;margin-top:8px}"]}),o})();var S=r(727),O=r(1884),F=r(3601),k=r(3900),M=r(9849),J=r(4696),Q=r(3812);function $(o,n){if(1&o&&(t.TgZ(0,"div",31),t._UZ(1,"img",32),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("src",e.shop.logo,t.LSH)("alt",e.shop.name)}}function j(o,n){if(1&o&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"date"),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.hij("- ",t.xi3(2,1,e.customerDateRange.value.end,"MMM d, YYYY"),"")}}function E(o,n){if(1&o&&(t.TgZ(0,"div"),t._UZ(1,"app-order-receipt",36),t.qZA()),2&o){const e=n.$implicit,i=t.oxw(3);t.xp6(1),t.Q6J("customerData",i.customerData)("shop",i.shop)("receipt",e)}}function B(o,n){if(1&o&&(t.ynx(0),t.TgZ(1,"div",34),t._uU(2),t.qZA(),t.YNc(3,E,2,3,"div",35),t.BQk()),2&o){const e=t.oxw().$implicit;t.xp6(2),t.hij(" ",e.date," "),t.xp6(1),t.Q6J("ngForOf",e.receipts)}}function G(o,n){if(1&o&&(t.TgZ(0,"div",33),t.YNc(1,B,4,2,"ng-container",23),t.qZA()),2&o){const e=n.$implicit;t.xp6(1),t.Q6J("ngIf",e.receipts&&e.receipts.length)}}let H=(()=>{class o{constructor(e,i,s,m){this.customerService=e,this.shopService=i,this.pdfService=s,this.customerData=m,this.subscriptions=new S.w0}ngOnInit(){this.initDateRange(),this.loadPurchaseData(),this.getShop();const e=this.customerDateRange.valueChanges.pipe((0,O.x)(this.isDateSame.bind(this)),(0,F.e)(1e3),(0,k.w)(i=>i.end&&i.start.getTime()!==i.end.getTime()?this.customerService.loadPurchaseDetails(this.customerData._id,i.start,i.end):this.customerService.loadPurchaseDetails(this.customerData._id,i.start))).subscribe(i=>{this.purchaseSummary=i.purchaseSummary,this.receiptData=i.receiptData});this.subscriptions.add(e)}ngOnDestroy(){this.subscriptions&&this.subscriptions.unsubscribe()}loadPurchaseData(){return(0,p.mG)(this,void 0,void 0,function*(){const e=yield this.customerService.loadPurchaseDetails(this.customerData._id,this.customerDateRange.get("start").value,this.customerDateRange.get("end").value);this.purchaseSummary=e.purchaseSummary,this.receiptData=e.receiptData})}getParameterValue(e){if(this.purchaseSummary){const i=this.purchaseSummary.find(s=>s.id===e);return i?i.prefix?`${i.prefix}${i.value}`:`${i.value}`:"N/A"}}downloadReport(){return(0,p.mG)(this,void 0,void 0,function*(){const e=this.customerDateRange.get("start").value,i=this.customerDateRange.get("end").value,s=e.getTime()!==i.getTime()?`${e.toDateString().replace(/ /g,"_")}_to_${i.toDateString().replace(/ /g,"_")}`:`${e.toDateString().replace(/ /g,"_")}`,m=document.getElementById("report-summary"),Z=Array.from(document.querySelectorAll('[data-id="bill-receipt"]'));yield this.pdfService.generatePdf([m,...Z],`${this.customerData.name}_${s}`)})}getShop(){return(0,p.mG)(this,void 0,void 0,function*(){this.shop=yield this.shopService.getCurrentShop()})}initDateRange(){const e=this.customerService.getCurrentDateRange();this.customerDateRange=new a.cw({start:new a.NI(e.startDate),end:new a.NI(e.endDate)})}isDateSame(e,i){return e.start===i.start&&e.end===i.end}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(y.v),t.Y36(M.d),t.Y36(J.F),t.Y36(c.WI))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-customer-purchase-report"]],decls:93,vars:20,consts:[[1,"flex"],[1,"flex-col","mar-right-16"],[1,"font-20","font-weight-500"],[1,"flex-col","font-14"],[1,"spacer"],["appearance","outline","color","primary",1,"mar-left-16"],[3,"formGroup","rangePicker"],["matStartDate","","formControlName","start","placeholder","Start date"],["matEndDate","","formControlName","end","placeholder","End date"],["matSuffix","",3,"for"],["picker",""],["mat-button","","matDateRangePickerCancel",""],["mat-raised-button","","color","primary","matDateRangePickerApply",""],[1,"purchase-report-container"],[1,"mar-vr-16"],["id","report-summary"],[1,"flex-col-centered-con"],["class","mar-vr-8",4,"ngIf"],[1,"font-14","grey"],[1,"flex-col","mar-vr-16"],[1,"font-weight-500","parameter-title"],[1,"flex","mar-top-8"],[1,"grey-border","border-rounded","pad-2"],[4,"ngIf"],[1,"flex-col"],[1,"spacer-half"],[1,"mar-vr-16","flex-col"],["class","flex-col mar-bottom-16",4,"ngFor","ngForOf"],["align","end"],["mat-button","","mat-dialog-close",""],["mat-raised-button","","color","primary","matTooltip","",3,"click"],[1,"mar-vr-8"],["height","150",3,"src","alt"],[1,"flex-col","mar-bottom-16"],[1,"font-18","font-weight-500","bg-grey","pad-4"],[4,"ngFor","ngForOf"],["data-id","bill-receipt",3,"customerData","shop","receipt"]],template:function(e,i){if(1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t._uU(3,"Purchase Report"),t.qZA(),t.TgZ(4,"div",3)(5,"div"),t._uU(6),t.qZA(),t.TgZ(7,"div"),t._uU(8),t.qZA()()(),t._UZ(9,"div",4),t.TgZ(10,"div")(11,"mat-form-field",5)(12,"mat-label"),t._uU(13,"Enter a date range"),t.qZA(),t.TgZ(14,"mat-date-range-input",6),t._UZ(15,"input",7)(16,"input",8),t.qZA(),t._UZ(17,"mat-datepicker-toggle",9),t.TgZ(18,"mat-date-range-picker",null,10)(20,"mat-date-range-picker-actions")(21,"button",11),t._uU(22,"Cancel"),t.qZA(),t.TgZ(23,"button",12),t._uU(24," Apply "),t.qZA()()()()()(),t.TgZ(25,"mat-dialog-content",13),t._UZ(26,"hr"),t.TgZ(27,"div",14)(28,"div",15)(29,"div",16),t.YNc(30,$,2,2,"div",17),t.TgZ(31,"div",2),t._uU(32),t.qZA(),t.TgZ(33,"div",18),t._uU(34,"PURCHASE SUMMARY"),t.qZA()(),t._UZ(35,"hr"),t.TgZ(36,"div",19)(37,"div",0)(38,"div",20),t._uU(39,"Customer Name:"),t.qZA(),t.TgZ(40,"div"),t._uU(41),t.qZA()(),t.TgZ(42,"div",0)(43,"div",20),t._uU(44,"Mobile No:"),t.qZA(),t.TgZ(45,"div"),t._uU(46),t.qZA()(),t.TgZ(47,"div",0)(48,"div",20),t._uU(49,"Address:"),t.qZA(),t.TgZ(50,"div"),t._uU(51),t.qZA()(),t.TgZ(52,"div",21)(53,"div",20),t._uU(54,"Date Range:"),t.qZA(),t.TgZ(55,"div",22),t._uU(56),t.ALo(57,"date"),t.YNc(58,j,3,4,"span",23),t.qZA()()(),t._UZ(59,"hr"),t.TgZ(60,"div",19)(61,"div",0)(62,"div",24)(63,"div",0)(64,"div",20),t._uU(65,"Total Orders:"),t.qZA(),t.TgZ(66,"div"),t._uU(67),t.qZA()(),t.TgZ(68,"div",0)(69,"div",20),t._uU(70," Points Received: "),t.qZA(),t.TgZ(71,"div"),t._uU(72),t.qZA()()(),t._UZ(73,"div",25),t.TgZ(74,"div",24)(75,"div",0)(76,"div",20),t._uU(77,"Current Points:"),t.qZA(),t.TgZ(78,"div"),t._uU(79),t.qZA()(),t.TgZ(80,"div",0)(81,"div",20),t._uU(82,"Points Used:"),t.qZA(),t.TgZ(83,"div"),t._uU(84),t.qZA()()()()()(),t._UZ(85,"hr"),t.TgZ(86,"div",26),t.YNc(87,G,2,1,"div",27),t.qZA()()(),t.TgZ(88,"mat-dialog-actions",28)(89,"button",29),t._uU(90,"Close"),t.qZA(),t.TgZ(91,"button",30),t.NdJ("click",function(){return i.downloadReport()}),t._uU(92," Download "),t.qZA()()),2&e){const s=t.MAs(19);t.xp6(6),t.Oqu(i.customerData.name),t.xp6(2),t.Oqu(i.customerData.mobile),t.xp6(6),t.Q6J("formGroup",i.customerDateRange)("rangePicker",s),t.xp6(3),t.Q6J("for",s),t.xp6(13),t.Q6J("ngIf",null==i.shop?null:i.shop.logo),t.xp6(2),t.Oqu(null==i.shop?null:i.shop.name),t.xp6(9),t.Oqu(i.customerData.name),t.xp6(5),t.Oqu(i.customerData.mobile),t.xp6(5),t.Oqu(i.customerData.address),t.xp6(5),t.hij(" ",t.xi3(57,17,i.customerDateRange.value.start,"MMM d, YYYY")," "),t.xp6(2),t.Q6J("ngIf",i.customerDateRange.value.end),t.xp6(9),t.Oqu(i.getParameterValue("totalOrdersPlaced")),t.xp6(5),t.Oqu(i.getParameterValue("totalPointsReceived")),t.xp6(7),t.Oqu(i.customerData.currentPoints),t.xp6(5),t.Oqu(i.getParameterValue("totalPointsUsed")),t.xp6(3),t.Q6J("ngForOf",i.receiptData)}},directives:[d.KE,d.hX,l.wx,a.JL,a.sg,l.zY,a.Fj,a.JJ,a.u,l.By,l.nW,d.R9,l._g,l.M5,f.lW,l.dp,l.DK,c.xY,g.O5,g.sg,Q.o,c.H8,c.ZT,_.gM],pipes:[g.uU],styles:[".parameter-title[_ngcontent-%COMP%]{width:200px;color:#0000008a}"]}),o})();var z=r(7176),W=r(4464),V=r(7048);function X(o,n){1&o&&(t.TgZ(0,"th",26),t._uU(1,"No."),t.qZA())}function K(o,n){if(1&o&&(t.TgZ(0,"td",27),t._uU(1),t.qZA()),2&o){const e=n.index,i=t.oxw();t.xp6(1),t.hij(" ",e+1+(null==i.paginator?null:i.paginator.pageIndex)*(null==i.paginator?null:i.paginator.pageSize)," ")}}function L(o,n){1&o&&(t.TgZ(0,"th",28),t._uU(1,"Name"),t.qZA())}function tt(o,n){if(1&o&&(t.TgZ(0,"td",27),t._uU(1),t.qZA()),2&o){const e=n.$implicit;t.xp6(1),t.Oqu(e.name)}}function et(o,n){1&o&&(t.TgZ(0,"th",28),t._uU(1,"Mobile"),t.qZA())}function ot(o,n){if(1&o&&(t.TgZ(0,"td",27),t._uU(1),t.qZA()),2&o){const e=n.$implicit;t.xp6(1),t.Oqu(e.mobile)}}function it(o,n){1&o&&(t.TgZ(0,"th",26),t._uU(1,"Address"),t.qZA())}function at(o,n){if(1&o&&(t.TgZ(0,"td",27),t._uU(1),t.qZA()),2&o){const e=n.$implicit;t.xp6(1),t.Oqu(e.address)}}function nt(o,n){1&o&&(t.TgZ(0,"th",28),t._uU(1,"Email"),t.qZA())}function rt(o,n){if(1&o&&(t.TgZ(0,"td",27),t._uU(1),t.qZA()),2&o){const e=n.$implicit;t.xp6(1),t.Oqu(e.email)}}function st(o,n){1&o&&(t.TgZ(0,"th",28),t._uU(1,"Birthday"),t.qZA())}function mt(o,n){if(1&o&&(t.TgZ(0,"td",27),t._uU(1),t.qZA()),2&o){const e=n.$implicit,i=t.oxw();t.xp6(1),t.hij(" ",i.getDateString(e.birthday)," ")}}function ut(o,n){1&o&&(t.TgZ(0,"th",28),t._uU(1," Anniversary "),t.qZA())}function ct(o,n){if(1&o&&(t.TgZ(0,"td",27),t._uU(1),t.qZA()),2&o){const e=n.$implicit,i=t.oxw();t.xp6(1),t.hij(" ",i.getDateString(e.anniversary)," ")}}function lt(o,n){1&o&&(t.TgZ(0,"th",28),t._uU(1,"Points"),t.qZA())}function dt(o,n){if(1&o&&(t.TgZ(0,"td",27),t._uU(1),t.qZA()),2&o){const e=n.$implicit;t.xp6(1),t.hij(" ",e.currentPoints," ")}}function pt(o,n){1&o&&(t.TgZ(0,"th",28),t._uU(1,"Actions"),t.qZA())}function ht(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"td",27)(1,"div",29)(2,"button",30),t.NdJ("click",function(){const m=t.CHM(e).$implicit;return t.oxw().showCustomerPurchaseDetails(m)}),t.TgZ(3,"mat-icon"),t._uU(4,"feed"),t.qZA()(),t.TgZ(5,"button",31),t.NdJ("click",function(){const m=t.CHM(e).$implicit;return t.oxw().updateCustomer(m)}),t.TgZ(6,"mat-icon"),t._uU(7,"edit"),t.qZA()(),t.TgZ(8,"button",32),t.NdJ("click",function(){const m=t.CHM(e).$implicit;return t.oxw().removeCustomer(m)}),t.TgZ(9,"mat-icon"),t._uU(10,"delete"),t.qZA()()()()}}function gt(o,n){1&o&&t._UZ(0,"tr",33)}function ft(o,n){1&o&&t._UZ(0,"tr",34),2&o&&t.ekj("bg-grey",n.even)}function vt(o,n){1&o&&(t.TgZ(0,"tr",35)(1,"td",36),t._uU(2,"No data found."),t.qZA()())}const Zt=function(){return[5,10,25,100]},Ct=[{path:"",component:(()=>{class o{constructor(e,i){this.customerService=e,this.dialogService=i,this.displayedColumns=["id","name","mobile","address","email","birthday","anniversary","currentPoints","actions"],this.dataSource=new u.by([]),this.subscriptions=new S.w0}ngOnInit(){const e=this.customerService.getAllCustomers().subscribe(i=>{i&&i.length&&(this.dataSource.data=i)});this.subscriptions.add(e)}ngAfterViewInit(){this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}ngOnDestroy(){this.subscriptions&&this.subscriptions.unsubscribe()}applyFilter(e){this.dataSource.filter=e.target.value.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}addCustomer(){this.dialogService.openDialog(N,h.ib.customer)}updateCustomer(e){this.dialogService.openDialog(N,Object.assign(Object.assign({},h.ib.customer),{data:e}))}showCustomerPurchaseDetails(e){this.dialogService.openDialog(H,Object.assign(Object.assign({},h.ib.customerPurchaseDetails),{data:e}))}removeCustomer(e){return(0,p.mG)(this,void 0,void 0,function*(){const s=this.dialogService.openDialog(z.z,Object.assign(Object.assign({},h.ib.confirmationDialog),{data:{type:"warning",action:"remove",entity:"customer"}}));(yield(0,W.n)(s.afterClosed()))&&(yield this.customerService.removeCustomer(e._id))})}getDateString(e){if(e)return`${h.zC.find(i=>i.value===e.month).name}, ${e.day}`}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(y.v),t.Y36(V.x))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-customers"]],viewQuery:function(e,i){if(1&e&&(t.Gf(C.NW,5),t.Gf(v.YE,5)),2&e){let s;t.iGM(s=t.CRH())&&(i.paginator=s.first),t.iGM(s=t.CRH())&&(i.sort=s.first)}},decls:44,vars:6,consts:[[1,"customer-container"],[1,"section-container"],[1,"customers"],["appearance","outline"],["matInput","","placeholder","Ex. Nikola Tesla",3,"keyup"],["input",""],[1,"customers-table"],["mat-table","","matSort","",1,"full-width",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","mobile"],["matColumnDef","address"],["matColumnDef","email"],["matColumnDef","birthday"],["matColumnDef","anniversary"],["matColumnDef","currentPoints"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",3,"bg-grey",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],[3,"pageSize","pageSizeOptions"],["mat-fab","","color","accent",1,"menu-button",3,"click"],["matTooltip","Add New"],["mat-header-cell",""],["mat-cell",""],["mat-header-cell","","mat-sort-header",""],[1,"flex"],["mat-icon-button","","color","accent","matTooltip","Purchase Report",3,"click"],["mat-icon-button","","color","primary","matTooltip","Edit",3,"click"],["mat-icon-button","","color","warn","matTooltip","Remove",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"mat-form-field",3)(4,"mat-label"),t._uU(5,"Search Customers"),t.qZA(),t.TgZ(6,"input",4,5),t.NdJ("keyup",function(m){return i.applyFilter(m)}),t.qZA()(),t.TgZ(8,"div",6)(9,"table",7),t.ynx(10,8),t.YNc(11,X,2,0,"th",9),t.YNc(12,K,2,1,"td",10),t.BQk(),t.ynx(13,11),t.YNc(14,L,2,0,"th",12),t.YNc(15,tt,2,1,"td",10),t.BQk(),t.ynx(16,13),t.YNc(17,et,2,0,"th",12),t.YNc(18,ot,2,1,"td",10),t.BQk(),t.ynx(19,14),t.YNc(20,it,2,0,"th",9),t.YNc(21,at,2,1,"td",10),t.BQk(),t.ynx(22,15),t.YNc(23,nt,2,0,"th",12),t.YNc(24,rt,2,1,"td",10),t.BQk(),t.ynx(25,16),t.YNc(26,st,2,0,"th",12),t.YNc(27,mt,2,1,"td",10),t.BQk(),t.ynx(28,17),t.YNc(29,ut,2,0,"th",12),t.YNc(30,ct,2,1,"td",10),t.BQk(),t.ynx(31,18),t.YNc(32,lt,2,0,"th",12),t.YNc(33,dt,2,1,"td",10),t.BQk(),t.ynx(34,19),t.YNc(35,pt,2,0,"th",12),t.YNc(36,ht,11,0,"td",10),t.BQk(),t.YNc(37,gt,1,0,"tr",20),t.YNc(38,ft,1,2,"tr",21),t.YNc(39,vt,3,0,"tr",22),t.qZA(),t._UZ(40,"mat-paginator",23),t.qZA()()()(),t.TgZ(41,"button",24),t.NdJ("click",function(){return i.addCustomer()}),t.TgZ(42,"mat-icon",25),t._uU(43,"person_add"),t.qZA()()),2&e&&(t.xp6(9),t.Q6J("dataSource",i.dataSource),t.xp6(28),t.Q6J("matHeaderRowDef",i.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",i.displayedColumns),t.xp6(2),t.Q6J("pageSize",10)("pageSizeOptions",t.DdM(5,Zt)))},directives:[d.KE,d.hX,T.Nt,u.BZ,v.YE,u.w1,u.fO,u.ge,u.Dz,u.ev,v.nU,f.lW,_.gM,A.Hw,u.as,u.XQ,u.nj,u.Gk,u.Ee,C.NW],styles:[""]}),o})()},{path:"**",redirectTo:"",pathMatch:"full"}];let Tt=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[U.Bz.forChild(Ct)],U.Bz]}),o})();var _t=r(8553);let yt=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[g.ez,Tt,_t.m,a.UX,d.lN,u.p0,A.Ps,C.TU,T.c,f.ot,v.JX,c.Is,x.LD,_.AV,l.FA,q.Nh,I.QW]]}),o})()}}]);