"use strict";(self.webpackChunkbillit=self.webpackChunkbillit||[]).push([[360],{360:(F,h,r)=>{r.r(h),r.d(h,{AuthModule:()=>y});var A=r(8583),m=r(4655),u=r(4762),o=r(3679),g=r(9067),t=r(7716),p=r(4885),T=r(1841),q=r(7048);let b=(()=>{class e{constructor(n,i){this.http=n,this.dialogService=i}login(n){return(0,u.mG)(this,void 0,void 0,function*(){const i=g.ap.loginUrl,s=this.dialogService.openDialog(p.$g,{disableClose:!0}),a=yield this.http.post(i,n).toPromise();return s.close(),a})}register(n){return(0,u.mG)(this,void 0,void 0,function*(){const i=g.ap.registrationUrl,s=this.dialogService.openDialog(p.$g,{disableClose:!0}),a=yield this.http.post(i,n).toPromise();return s.close(),a})}}return e.\u0275fac=function(n){return new(n||e)(t.LFG(T.eN),t.LFG(q.x))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var Z=r(3738),d=r(5939),c=r(8295),f=r(9983),v=r(1095);const C=[{path:"",component:(()=>{class e{constructor(n,i){this.authService=n,this.router=i}ngOnInit(){this.loginForm=new o.cw({username:new o.NI("",o.kI.required.bind(this)),password:new o.NI("",[o.kI.required.bind(this),o.kI.minLength(4)])}),this.registrationForm=new o.cw({username:new o.NI("",o.kI.required.bind(this)),email:new o.NI("",[o.kI.required.bind(this),o.kI.email.bind(this)]),password:new o.NI("",[o.kI.required.bind(this),o.kI.minLength(4)])})}login(){return(0,u.mG)(this,void 0,void 0,function*(){if(this.loginForm.invalid)return;const s={username:this.loginForm.controls.username.value,password:this.loginForm.controls.password.value},a=yield this.authService.login(s);g.cQ.storageHelper.userInfo=a,this.router.navigate(["dashboard"])})}register(){return(0,u.mG)(this,void 0,void 0,function*(){if(this.registrationForm.invalid)return;const i=this.registrationForm.controls.email.value,a={username:this.registrationForm.controls.username.value,email:i,password:this.registrationForm.controls.password.value};i||delete a.email;const I=yield this.authService.register(a);g.cQ.storageHelper.userInfo=I,this.router.navigate(["dashboard"])})}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(b),t.Y36(m.F0))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-auth"]],decls:53,vars:2,consts:[[1,"auth-container","flex-centered-con"],[1,"flex-col","full-height"],[1,"spacer"],[1,"flex-col","content-container"],[1,"flex","pad-left-16"],["src","assets/images/common/logo.png","alt","",1,"home-logo","mar-32"],[1,"flex-col","mar-top-32","pad-top-32","org-title-position"],[1,"title","font-32","font-weight-500"],["mat-align-tabs","center"],["label","Login"],[1,"login-container","flex-col-centered-con","mar-top-16"],[1,"login-form"],[3,"formGroup","keyup.enter"],["appearance","outline",1,"full-width"],["matInput","","placeholder","username","formControlName","username","required",""],["matInput","","placeholder","password","type","password","formControlName","password","required",""],[1,"login-submit"],["mat-raised-button","","color","primary",3,"click"],["label","Register"],[1,"registration-container","flex-col-centered-con","mar-top-16"],[1,"registration-form"],["matInput","","placeholder","email","formControlName","email","required",""],[1,"registration-submit"]],template:function(n,i){1&n&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t._UZ(2,"div",2),t.TgZ(3,"div",3),t.TgZ(4,"div",4),t._UZ(5,"img",5),t.TgZ(6,"div",6),t.TgZ(7,"div",7),t._uU(8,"Bill.it"),t.qZA(),t.TgZ(9,"div"),t._uU(10,"Simplified Billing."),t.qZA(),t.qZA(),t.qZA(),t.TgZ(11,"mat-card"),t.TgZ(12,"mat-tab-group",8),t.TgZ(13,"mat-tab",9),t.TgZ(14,"div",10),t.TgZ(15,"div",11),t.TgZ(16,"form",12),t.NdJ("keyup.enter",function(){return i.login()}),t.TgZ(17,"div"),t.TgZ(18,"mat-form-field",13),t.TgZ(19,"mat-label"),t._uU(20,"Username"),t.qZA(),t._UZ(21,"input",14),t.qZA(),t.qZA(),t.TgZ(22,"div"),t.TgZ(23,"mat-form-field",13),t.TgZ(24,"mat-label"),t._uU(25,"Password"),t.qZA(),t._UZ(26,"input",15),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(27,"div",16),t.TgZ(28,"button",17),t.NdJ("click",function(){return i.login()}),t._uU(29," Login "),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(30,"mat-tab",18),t.TgZ(31,"div",19),t.TgZ(32,"div",20),t.TgZ(33,"form",12),t.NdJ("keyup.enter",function(){return i.register()}),t.TgZ(34,"div"),t.TgZ(35,"mat-form-field",13),t.TgZ(36,"mat-label"),t._uU(37,"Username"),t.qZA(),t._UZ(38,"input",14),t.qZA(),t.qZA(),t.TgZ(39,"div"),t.TgZ(40,"mat-form-field",13),t.TgZ(41,"mat-label"),t._uU(42,"Email"),t.qZA(),t._UZ(43,"input",21),t.qZA(),t.qZA(),t.TgZ(44,"div"),t.TgZ(45,"mat-form-field",13),t.TgZ(46,"mat-label"),t._uU(47,"Password"),t.qZA(),t._UZ(48,"input",15),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(49,"div",22),t.TgZ(50,"button",17),t.NdJ("click",function(){return i.register()}),t._uU(51," Register "),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t._UZ(52,"div",2),t.qZA(),t.qZA()),2&n&&(t.xp6(16),t.Q6J("formGroup",i.loginForm),t.xp6(17),t.Q6J("formGroup",i.registrationForm))},directives:[Z.a8,d.SP,d.uX,o._Y,o.JL,o.sg,c.KE,c.hX,f.Nt,o.Fj,o.JJ,o.u,o.Q7,v.lW],styles:[".home-logo[_ngcontent-%COMP%]{height:150px;flex:0}.auth-container[_ngcontent-%COMP%]{height:100vh;background-image:url(login-background.f5676029f2b6da2aa886.jpg);background-size:100% 100%}.org-title-position[_ngcontent-%COMP%]{position:relative;top:30px}.content-container[_ngcontent-%COMP%]{min-height:585px}.login-form[_ngcontent-%COMP%], .registration-form[_ngcontent-%COMP%]{width:90%}"]}),e})()},{path:"**",redirectTo:"",pathMatch:"full"}];let U=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[m.Bz.forChild(C)],m.Bz]}),e})(),y=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[A.ez,U,o.u5,o.UX,c.lN,v.ot,f.c,Z.QW,d.Nh]]}),e})()}}]);