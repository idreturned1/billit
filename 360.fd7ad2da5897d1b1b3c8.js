"use strict";(self.webpackChunkbillit=self.webpackChunkbillit||[]).push([[360],{360:(w,h,i)=>{i.r(h),i.d(h,{AuthModule:()=>N});var T=i(8583),g=i(4655),u=i(4762),o=i(3679),m=i(9067),t=i(7716),p=i(4885),q=i(9670),b=i(1841),C=i(7048),U=i(7001);let y=(()=>{class e{constructor(n,r,s){this.http=n,this.dialogService=r,this._snackBar=s}login(n){return(0,u.mG)(this,void 0,void 0,function*(){const r=m.ap.loginUrl,s=this.dialogService.openDialog(p.$g,{disableClose:!0});try{const a=yield this.http.post(r,n).toPromise();return s.close(),a}catch(a){s.close(),this._snackBar.open("Username or Password incorrect. Try Again.",null,q.R$.error)}})}register(n){return(0,u.mG)(this,void 0,void 0,function*(){const r=m.ap.registrationUrl,s=this.dialogService.openDialog(p.$g,{disableClose:!0}),a=yield this.http.post(r,n).toPromise();return s.close(),a})}}return e.\u0275fac=function(n){return new(n||e)(t.LFG(b.eN),t.LFG(C.x),t.LFG(U.ux))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var Z=i(3738),c=i(5939),d=i(8295),f=i(9983),v=i(1095);const F=[{path:"",component:(()=>{class e{constructor(n,r){this.authService=n,this.router=r}ngOnInit(){this.loginForm=new o.cw({username:new o.NI("",o.kI.required.bind(this)),password:new o.NI("",[o.kI.required.bind(this),o.kI.minLength(4)])}),this.registrationForm=new o.cw({username:new o.NI("",o.kI.required.bind(this)),email:new o.NI("",[o.kI.required.bind(this),o.kI.email.bind(this)]),password:new o.NI("",[o.kI.required.bind(this),o.kI.minLength(4)])})}login(){return(0,u.mG)(this,void 0,void 0,function*(){if(this.loginForm.invalid)return;const s={username:this.loginForm.controls.username.value.trim(),password:this.loginForm.controls.password.value.trim()},a=yield this.authService.login(s);a?(m.cQ.storageHelper.userInfo=a,this.router.navigate(["dashboard"])):(this.loginForm.get("username").setValue(""),this.loginForm.get("password").setValue(""))})}register(){return(0,u.mG)(this,void 0,void 0,function*(){if(this.registrationForm.invalid)return;const n=this.registrationForm.controls.username.value.trim(),r=this.registrationForm.controls.email.value.trim(),a={username:n,email:r,password:this.registrationForm.controls.password.value.trim()};r||delete a.email;const A=yield this.authService.register(a);A&&(m.cQ.storageHelper.userInfo=A,this.router.navigate(["dashboard"]))})}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(y),t.Y36(g.F0))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-auth"]],decls:53,vars:2,consts:[[1,"auth-container","flex-centered-con"],[1,"flex-col","full-height"],[1,"spacer"],[1,"flex-col","content-container"],[1,"flex","pad-left-16"],["src","assets/images/common/logo.png","alt","",1,"home-logo","mar-32"],[1,"flex-col","mar-top-32","pad-top-32","org-title-position"],[1,"title","font-32","font-weight-500"],["mat-align-tabs","center"],["label","Login"],[1,"login-container","flex-col-centered-con","mar-top-16"],[1,"login-form"],[3,"formGroup","keyup.enter"],["appearance","outline",1,"full-width"],["matInput","","placeholder","username","formControlName","username","required",""],["matInput","","placeholder","password","type","password","formControlName","password","required",""],[1,"login-submit"],["mat-raised-button","","color","primary",3,"click"],["label","Register"],[1,"registration-container","flex-col-centered-con","mar-top-16"],[1,"registration-form"],["matInput","","placeholder","email","formControlName","email","required",""],[1,"registration-submit"]],template:function(n,r){1&n&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t._UZ(2,"div",2),t.TgZ(3,"div",3),t.TgZ(4,"div",4),t._UZ(5,"img",5),t.TgZ(6,"div",6),t.TgZ(7,"div",7),t._uU(8,"Bill.it"),t.qZA(),t.TgZ(9,"div"),t._uU(10,"Simplified Billing."),t.qZA(),t.qZA(),t.qZA(),t.TgZ(11,"mat-card"),t.TgZ(12,"mat-tab-group",8),t.TgZ(13,"mat-tab",9),t.TgZ(14,"div",10),t.TgZ(15,"div",11),t.TgZ(16,"form",12),t.NdJ("keyup.enter",function(){return r.login()}),t.TgZ(17,"div"),t.TgZ(18,"mat-form-field",13),t.TgZ(19,"mat-label"),t._uU(20,"Username"),t.qZA(),t._UZ(21,"input",14),t.qZA(),t.qZA(),t.TgZ(22,"div"),t.TgZ(23,"mat-form-field",13),t.TgZ(24,"mat-label"),t._uU(25,"Password"),t.qZA(),t._UZ(26,"input",15),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(27,"div",16),t.TgZ(28,"button",17),t.NdJ("click",function(){return r.login()}),t._uU(29," Login "),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(30,"mat-tab",18),t.TgZ(31,"div",19),t.TgZ(32,"div",20),t.TgZ(33,"form",12),t.NdJ("keyup.enter",function(){return r.register()}),t.TgZ(34,"div"),t.TgZ(35,"mat-form-field",13),t.TgZ(36,"mat-label"),t._uU(37,"Username"),t.qZA(),t._UZ(38,"input",14),t.qZA(),t.qZA(),t.TgZ(39,"div"),t.TgZ(40,"mat-form-field",13),t.TgZ(41,"mat-label"),t._uU(42,"Email"),t.qZA(),t._UZ(43,"input",21),t.qZA(),t.qZA(),t.TgZ(44,"div"),t.TgZ(45,"mat-form-field",13),t.TgZ(46,"mat-label"),t._uU(47,"Password"),t.qZA(),t._UZ(48,"input",15),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(49,"div",22),t.TgZ(50,"button",17),t.NdJ("click",function(){return r.register()}),t._uU(51," Register "),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t._UZ(52,"div",2),t.qZA(),t.qZA()),2&n&&(t.xp6(16),t.Q6J("formGroup",r.loginForm),t.xp6(17),t.Q6J("formGroup",r.registrationForm))},directives:[Z.a8,c.SP,c.uX,o._Y,o.JL,o.sg,d.KE,d.hX,f.Nt,o.Fj,o.JJ,o.u,o.Q7,v.lW],styles:[".home-logo[_ngcontent-%COMP%]{height:150px;flex:0}.auth-container[_ngcontent-%COMP%]{height:100vh;background-image:url(login-background.f5676029f2b6da2aa886.jpg);background-size:100% 100%}.org-title-position[_ngcontent-%COMP%]{position:relative;top:30px}.content-container[_ngcontent-%COMP%]{min-height:585px}.login-form[_ngcontent-%COMP%], .registration-form[_ngcontent-%COMP%]{width:90%}"]}),e})()},{path:"**",redirectTo:"",pathMatch:"full"}];let I=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[g.Bz.forChild(F)],g.Bz]}),e})(),N=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[T.ez,I,o.u5,o.UX,d.lN,v.ot,f.c,Z.QW,c.Nh]]}),e})()}}]);